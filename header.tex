\documentclass[10pt]{report}

\usepackage[french]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{lmodern}
\usepackage{microtype}

\usepackage{amsmath,amssymb}
\usepackage{algorithm}
\usepackage{algpseudocode}
% http://tex.stackexchange.com/questions/74880/algorithmicx-package-comments-on-a-single-line
    \algnewcommand{\LineComment}[1]{\State \(\triangleright\) #1}
\usepackage[pdftex]{graphicx}
\usepackage{hyperref}
\usepackage{subcaption}
\usepackage{url}
\usepackage{longtable, booktabs, multirow}
\usepackage{makeidx}
\usepackage{transparent}
\usepackage{minitoc}
    \mtcselectlanguage{french}

% http://texdoc.net/texmf-dist/doc/latex/cleveref/cleveref.pdf
% Cleveref can’t cope with active characters being present in cross-reference
% label names. For example, if French babel support is loaded, the commonly
% used “:”
\usepackage[french,capitalize,nameinlink]{cleveref}
\usepackage{array,booktabs}
\newcolumntype{L}{@{}>{\kern\tabcolsep}l<{\kern\tabcolsep}}
\usepackage{colortbl}
\usepackage{textcomp}

\usepackage{tikz,pgfplots,pgfgantt}
	\usetikzlibrary{arrows,positioning,matrix}
\usepackage{lscape,afterpage}

\usepackage{xcolor}
\hypersetup{
    colorlinks,
    linkcolor={red!50!black},
    citecolor={blue!50!black},
    urlcolor={blue!80!black}
}

\usepackage[french=guillemets]{csquotes}

\usepackage[
    backend=biber,
    style=alphabetic,
	maxnames=2,
    maxbibnames=99,
    language=french,
    babel=other
]{biblatex}
\addbibresource{these.bib}

\newcommand{\firstinit}{D.}
\newcommand{\prenom}{Dimitri}
\newcommand{\nom}{Pertin}

% régle la profondeur de la table des matières
% \setcounter{tocdepth}{3}
% \setcounter{secnumdepth}{3}

% options et procédures pour inclure les images SVG
\graphicspath{{img/}}

\newcommand{\executeiffilenewer}[3]{%
 \ifnum\pdfstrcmp{\pdffilemoddate{#1}}%
 {\pdffilemoddate{#2}}>0%
 {\immediate\write18{#3}}\fi%
}
\newcommand{\includesvg}[1]{%
  \executeiffilenewer{#1.svg}{#1.pdf}%
  {inkscape -z -D --file=#1.svg %
  --export-pdf=#1.pdf --export-latex}%
 \input {#1.pdf_tex}%
}

\def\proj{\mathrm{proj}}
\def\M{\mathcal{M}}

\DeclareMathOperator*{\xor}{\bigoplus}

% déclaration de la catégorie mine pour biblatex
\DeclareBibliographyCategory{mine}

\DeclareIndexNameFormat{mine}{%
  \ifboolexpr{ test {\ifdefstring{\nom}{#1}}
               and ( test {\ifdefstring{\prenom}{#3}}
                     or test {\ifdefstring{\firstinit}{#4}} ) }
    {\addtocategory{mine}{\thefield{entrykey}}}
    {}}

\AtDataInput{%
  \indexnames[mine]{author}}

\defbibfilter{publications}{
  type=article or
  type=inproceedings
}

% environnement pour bibliographie sans labels
\defbibenvironment{midbib}
  {\list
     {}
     {\setlength{\leftmargin}{\bibhang}%
      \setlength{\itemindent}{-\leftmargin}%
      \setlength{\itemsep}{\bibitemsep}%
      \setlength{\parsep}{\bibparsep}}}
  {\endlist}
  {\item}

% Clear the url field if doi is defined
\AtEveryBibitem{\iffieldundef{doi}{}{\clearfield{url}}}

%                                                                              %
% Emphasize a particular author
% adapted from: file:///usr/local/texlive/2010/texmf-dist/doc/latex/biblatex/biblatex.pdf
\DeclareNameFormat{author}{%
  \ifthenelse{\equal{#1}{\nom}}
    {{\bf\ifblank{#3}{}{#3\space}%
     #1}}%
    {\ifblank{#3}{}{#3\space}%
     #1}%
  \ifthenelse{\value{listcount}<\value{liststop}}
    {\addcomma\space}
    {}}
%              

% relatif au papier reprojection
\DeclareMathOperator*{\bigast}{\ast}
\DeclareMathOperator*{\bigastinv}{\ast^{-1}}
\def\dirset#1{\left\{#1\right\}}
\def\ghost#1{G_{\dirset{#1}}}

\newcommand\radon{\citeauthor{radon1917akad} }
\newcommand\matus{\citeauthor{matus1993pami} }
\newcommand\katz{\citeauthor{katz1978springer} }
\newcommand\reed{\citeauthor{reed1960jsiam} }

\newcommand\vander{\textsc{Vandermonde} }
\newcommand\rs{\textsc{Reed-Solomon} }
\newcommand\eo{\textsc{EVENODD} }
\newcommand\fourier{\textsc{Fourier} }

\newcommand\ZZ{\mathbb{Z}}
\newcommand\RR{\mathbb{R}}
\newcommand\CC{\mathbb{C}}
\newcommand\PP{\mathcal{P}}
\newcommand\QQ{\mathcal{Q}}

\makeatletter
\renewcommand{\ALG@name}{Algoritme}
\makeatother

\algrenewcommand\algorithmicrequire{\textbf{Nécessite :}}
\algrenewcommand\algorithmicfor{\textbf{pour}}
\algrenewcommand\algorithmicforall{\textbf{pour tout}}
\algrenewcommand\algorithmicdo{\textbf{faire}}
\algrenewcommand\algorithmicend{\textbf{fin}}
\algrenewcommand\algorithmicif{\textbf{si}}
\algrenewcommand\algorithmicthen{\textbf{alors}}

% http://tex.stackexchange.com/questions/74364/biber-biblatex-printbibliography-spits-out-section-heading-despite-filters-che
% filtrer par date
\DeclareSourcemap{
  \maps[datatype=bibtex]{
    \map[overwrite=true]{
      \step[fieldsource=year,
      match=\regexp{^20(0[8-9]|[1-9][0-9])$},
      final]
      \step[fieldsource=keywords, match=\regexp{^}, replace=\regexp{recent,}]
    }
  }
}


\DeclareFieldFormat{citehyperref}{%
  \DeclareFieldAlias{bibhyperref}{noformat}% Avoid nested links
  \bibhyperref{#1}}

\DeclareFieldFormat{textcitehyperref}{%
  \DeclareFieldAlias{bibhyperref}{noformat}% Avoid nested links
  \bibhyperref{%
    #1%
    \ifbool{cbx:parens}
      {\bibcloseparen\global\boolfalse{cbx:parens}}
      {}}}

\savebibmacro{cite}
\savebibmacro{textcite}

\renewbibmacro*{cite}{%
  \printtext[citehyperref]{%
    \restorebibmacro{cite}%
    \usebibmacro{cite}}}

\renewbibmacro*{textcite}{%
  \ifboolexpr{
    ( not test {\iffieldundef{prenote}} and
      test {\ifnumequal{\value{citecount}}{1}} )
    or
    ( not test {\iffieldundef{postnote}} and
      test {\ifnumequal{\value{citecount}}{\value{citetotal}}} )
  }
    {\DeclareFieldAlias{textcitehyperref}{noformat}}
    {}%
  \printtext[textcitehyperref]{%
    \restorebibmacro{textcite}%
    \usebibmacro{textcite}}}

